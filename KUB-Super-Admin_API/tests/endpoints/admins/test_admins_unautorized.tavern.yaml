test_name: test admins endpoint post method for wrong autorization header

marks:
  - parametrize:
      key:
        - wrong_token
        - request_last_name
        - request_first_name
        - request_middle_name
        - request_email
      vals:
        - [ "satsgag", "Doe", "John", "Edward", "john.doe@example.com" ]

stages:
  - name: check admins post for wrong autorization header
    request:
      url: "https://stage.superadmin.api.kub.education/admins"
      method: POST
      headers:
        X-SUPER-ADMIN-KEY: "{wrong_token}"
        Content-Type: "application/json"
        json:
          last_name: "{request_last_name}"
          first_name: "{request_first_name}"
          middle_name: "{request_middle_name}"
          email: "{request_email}"
    response:
      status_code: 401

---

test_name: test admins endpoint get method for wrong autorization header

marks:
  - parametrize:
      key:
        - wrong_token
      vals:
        - ["satsgag"]

stages:
  - name: check admins get for wrong autorization header
    request:
      url: "https://stage.superadmin.api.kub.education/admins"
      method: GET
      headers:
        X-SUPER-ADMIN-KEY: "{wrong_token}"
    response:
      status_code: 401